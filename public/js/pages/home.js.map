{"version":3,"file":"/js/pages/home.js","mappings":"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","sources":["webpack:///./resources/js/pages/home.js"],"sourcesContent":["const input = document.querySelector(\"#phoneInput\");\nwindow.phoneNumberInput = intlTelInput(input, {\n  separateDialCode: true\n});\n\nconst form = document.querySelector('#form-wrapper form');\nconst inputs = form.querySelectorAll(\"input, select, textarea\");\n\nif (form instanceof HTMLFormElement) {\n  form.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    const submitBtn = form.querySelector('button[type=submit]')\n    if (submitBtn instanceof HTMLButtonElement) {\n      submitBtn.disabled = true;\n      submitBtn.innerHTML = '<i class=\"fa fa-spinner fa-spin\"></i>'\n    }\n\n    const formData = new FormData();\n    formData.set('first_name', document.querySelector('#firstNameInput').value);\n    formData.set('last_name', document.querySelector('#lastNameInput').value);\n    formData.set('email', document.querySelector('#emailInput').value);\n    formData.set('age', document.querySelector('#ageInput').value);\n    formData.set('height', document.querySelector('#heightInput').value);\n    formData.set('weight', document.querySelector('#weightInput').value);\n    formData.set('gender', document.querySelector('#genderInput').value);\n    formData.set('social_network_note', document.querySelector('#socialNetworkInput').value);\n    formData.set('country_id', document.querySelector('#countryInput').value);\n    formData.set('phone_number', document.querySelector('#phoneInput').value);\n    formData.set('phone_code', phoneNumberInput.selectedCountryData.dialCode);\n    formData.set('front_side', document.querySelector('#frontSideInput').files[0]);\n    formData.set('front_closed', document.querySelector('#frontClosedInput').files[0]);\n    formData.set('right_side', document.querySelector('#rightSideInput').files[0]);\n    formData.set('right_closed', document.querySelector('#rightClosedSideInput').files[0]);\n\n\n    axios.post('/api/apply', formData, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/json',\n      },\n    })\n      .then(response => {\n        submitBtn.innerHTML = 'Apply'\n        $(form).find('.dropdown img')\n          .toArray()\n          .forEach(imgElement => {\n            imgElement.src = imgElement.getAttribute('data-src')\n          });\n\n        submitBtn.disabled = false;\n        document.querySelector('#error-feedback').innerText = ''\n        document.querySelector('#success-feedback').innerText = response.data.message\n        form.reset();\n        inputs.forEach(input => {\n          input.removeEventListener(\n            \"invalid\",\n            handleInvalidInput,\n            false\n          );\n        });\n      })\n      .catch((error) => {\n        submitBtn.innerHTML = 'Apply'\n        submitBtn.disabled = false;\n        if (error.response && error.response.status === 422) {\n          document.querySelector('#error-feedback').innerText = error.response.data.errors ? Object.values(error.response.data.errors).join('\\n') : error.response.data.message;\n        } else if (error.response) {\n          toastr.error(error.response.data.message);\n        }\n\n        console.log(error)\n      })\n  })\n\n  inputs.forEach(input => {\n    input.addEventListener(\n      \"invalid\",\n      handleInvalidInput,\n      false\n    );\n  });\n\n  function handleInvalidInput() {\n    input.classList.add(\"error\");\n  }\n}\n\nform.querySelectorAll('input[type=file]').forEach(inputElement => {\n  inputElement.addEventListener('change', previewUploadedImage)\n})\n\nconst usePictureButtonElement = document.querySelector('#use-picture');\nconst retakePictureButtonElement = document.querySelector('#retake-picture');\nconst takePictureButtonElement = document.querySelector('#take-picture');\nconst controlsElement = document.getElementById('picture-controls');\nconst webcamElement = document.getElementById('webcam-live');\nconst canvasElement = document.getElementById('picture-canvas');\nwebcamElement.width = 1200;\n\nconst webcam = new Webcam.default(webcamElement, 'user', canvasElement);\nlet selectedInputId = null;\nlet picture = null;\n\ndocument.querySelector('#previewSnapshotModal').addEventListener('hide.bs.modal', () => {\n  webcam.stop();\n  reTakePicture()\n})\n\nform.querySelectorAll('.request-take-picture-btn').forEach(buttonElement => {\n  buttonElement.addEventListener('click', () => {\n    initWebcam(buttonElement);\n  })\n})\n\nfunction initWebcam(buttonElement) {\n  $('#previewSnapshotModal').modal('show');\n  selectedInputId = $(buttonElement).parents('.dropdown:first').attr('data-target')\n\n  const text = $('input#' + selectedInputId).attr('data-text')\n  $('#previewSnapshotModalLabel').text('Take a Photo - ' + text)\n\n  webcam.start()\n    .then(() => {\n      takePictureButtonElement.removeEventListener('click', preSavePictureFromCamera)\n      takePictureButtonElement.addEventListener('click', preSavePictureFromCamera)\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\nfunction preSavePictureFromCamera() {\n  webcamElement.classList.remove('mx-w-full')\n\n  picture = webcam.snap();\n\n  webcamElement.classList.add('mx-w-full');\n  webcamElement.classList.add('d-none');\n  canvasElement.classList.remove('d-none');\n  canvasElement.classList.add('mx-w-full');\n  controlsElement.classList.remove('d-none');\n  controlsElement.classList.add('d-flex');\n\n  takePictureButtonElement.classList.add('d-none');\n\n  usePictureButtonElement.removeEventListener('click', savePicture)\n  usePictureButtonElement.addEventListener('click', savePicture)\n\n  retakePictureButtonElement.removeEventListener('click', reTakePicture)\n  retakePictureButtonElement.addEventListener('click', reTakePicture)\n}\n\nfunction savePicture() {\n  webcam.stop();\n  $('#previewSnapshotModal').modal('hide');\n\n  $(`.dropdown[data-target=\"${selectedInputId}\"] img`).attr('src', picture);\n\n  fetch(picture)\n    .then(res => res.blob())\n    .then(blob => {\n      const pictureFile = new File([blob], 'image.png', {\n        type: blob.type,\n      });\n\n      let dataTransfer = new DataTransfer();\n      dataTransfer.items.add(pictureFile)\n\n      document.querySelector('input#' + selectedInputId).files = dataTransfer.files\n\n      reTakePicture()\n    })\n}\n\nfunction reTakePicture() {\n  webcamElement.classList.remove('d-none');\n  canvasElement.classList.add('d-none');\n  canvasElement.classList.remove('mx-w-full');\n  controlsElement.classList.add('d-none');\n  controlsElement.classList.remove('d-flex');\n  takePictureButtonElement.classList.remove('d-none');\n}\n\nfunction previewUploadedImage(e) {\n  const [file] = e.currentTarget.files;\n  const label = e.currentTarget.labels[0];\n  const labelDropdown = e.currentTarget.labels[1];\n  if (file) {\n    $(labelDropdown).parents('.dropdown:first').find('img').attr('src', URL.createObjectURL(file));\n    label.querySelector('img').src = URL.createObjectURL(file);\n  } else {\n    $(labelDropdown).parents('.dropdown:first').find('img').attr('src', $(label).parents('.dropdown:first').find('img').attr('data-src'));\n    label.querySelector('img').src = label.querySelector('img').getAttribute('data-src');\n  }\n}\n"],"names":["input","document","querySelector","window","phoneNumberInput","intlTelInput","separateDialCode","form","inputs","querySelectorAll","HTMLFormElement","handleInvalidInput","classList","add","addEventListener","e","preventDefault","submitBtn","HTMLButtonElement","disabled","innerHTML","formData","FormData","set","value","selectedCountryData","dialCode","files","axios","post","headers","then","response","$","find","toArray","forEach","imgElement","src","getAttribute","innerText","data","message","reset","removeEventListener","error","status","errors","Object","values","join","toastr","console","log","inputElement","previewUploadedImage","usePictureButtonElement","retakePictureButtonElement","takePictureButtonElement","controlsElement","getElementById","webcamElement","canvasElement","width","webcam","Webcam","selectedInputId","picture","preSavePictureFromCamera","remove","snap","savePicture","reTakePicture","stop","modal","attr","fetch","res","blob","pictureFile","File","type","dataTransfer","DataTransfer","items","file","currentTarget","label","labels","labelDropdown","parents","URL","createObjectURL","buttonElement","text","start","err","initWebcam"],"sourceRoot":""}